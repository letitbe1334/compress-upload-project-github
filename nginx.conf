server {
    listen 20000;
    server_name localhost;
    
    # [Health Check]
    location = /health {
        add_header Content-Type text/plain;
        return 200 'OK'; 
    }

    # [Vue SPA] ëª¨ë“  ìš”ì²­ì„ index.htmlë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
    location / {
        root /usr/share/nginx/html; 
        index index.html index.htm;
        
        # ğŸš¨ ìˆœí™˜ ê³ ë¦¬ ë°©ì§€: íŒŒì¼ì´ ì—†ìœ¼ë©´ 404 ì—ëŸ¬ ë°œìƒ
        try_files $uri $uri/ =404; 
    }

    # ğŸš¨ 404 ì—ëŸ¬ ë°œìƒ ì‹œ index.html ë¡œë“œ (ì´ ë¶€ë¶„ì´ ìˆœí™˜ì„ ë°©ì§€í•¨)
    error_page 404 /index.html;
    location = /index.html {
        root /usr/share/nginx/html;
        internal; // ì™¸ë¶€ ì ‘ê·¼ ì°¨ë‹¨
    }
}
